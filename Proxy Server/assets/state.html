<div class="block">
	<div class="legend">Threads</div>
	<div class="content" id="threads"></div>
</div>

<div class="block">
	<div class="legend">Users</div>
	<div class="content" id="users"></div>
</div>

<div class="block">
	<div class="legend">Connections</div>
	<div class="content" id="connections"></div>
</div>

<div class="block">
	<div class="legend">Open URL`s</div>
	<div class="content" id="openUrls"></div>
</div>

<div class="block">
	<div class="legend">Open ADDR`s</div>
	<div class="content" id="openAddrs"></div>
</div>

<script type="text/javascript">
	var i = 0;
	var urlArray = new Array(
		"/get?con=threads",
		"/get?con=users",
		"/get?con=openUrls",
		"/get?con=openAddrs",
	);
	
	update();
	
	request.onreadystatechange=function(){
		if (request.readyState==4 && request.status == 200) {
			var tmp = request.responseText.split(":>:");
			if( tmp[0] == "content" && document.getElementById( tmp[1] )){
				document.getElementById( tmp[1] ).innerHTML = tmp[2];
			}
		}
	}
	
	function update()
	{
		if( urlArray.length == 0 ) return;
		if( i >= urlArray.length ) i = 0;
		var url = urlArray[i++];
		
		request.open('GET', url,true); request.send(null);
		
		setTimeout( "update()", 1000 );
	}
	
	function action(type, value)
	{
		request.open('GET', "/set?param=" + type + "&value=\"" + value + "\"",true); request.send(null);
	}
</script>